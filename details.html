<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--=============== BOXICONS ===============-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">

    <!--=============== SWIPER CSS ===============-->
    <link rel="stylesheet" href="assets/css/swiper-bundle.min.css">

    <!--=============== CSS ===============-->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/colors/color-1.css">

    <title>Responsive e-commerce website - Crypticalcoder</title>
</head>
<body>
    <!--=============== HEADER ===============-->
    <header class="header" id="header">
        
    </header>

    <!--=============== CART ===============-->
    <div class="cart" id="cart">
        
    </div>

    <!--=============== LOGIN ===============-->
    <div class="login" id="login">
        
    </div>

    <!--=============== MAIN ===============-->
    <main class="main">
        <!--=============== DETAILS ===============-->
        <section class="details section container">
            <h2 class="breadcrumb__title">Details Page</h2>
            <h3 class="breadcrumb__subtitle">Home > <span style="color: var(--first-color);">Details</span></h3>

            <div class="details__container grid">
                <div class="product__images grid">
                    <div class="product__img">
                        <div class="details__img-tag">New</div>
                        <img src="assets/img/details-1.png" alt="">
                    </div>
                    <div class="product__img">
                        <img src="assets/img/details-2.png" alt="">
                    </div>
                    <div class="product__img">
                        <img src="assets/img/details-3.png" alt="">
                    </div>
                    <div class="product__img">
                        <img src="assets/img/details-4.png" alt="">
                    </div>
                </div>
                <div class="product__info">
                    <p class="details__subtitle">Women > Jacket's</p>
                    <h3 class="details__title">Windbreaker, Denim - Jacket</h3>
                    <div class="rating">
                        <div class="stars">
                            <i class='bx bxs-star'></i>
                            <i class='bx bxs-star'></i>
                            <i class='bx bxs-star'></i>
                            <i class='bx bxs-star'></i>
                            <i class='bx bx-star' ></i>
                        </div>
                        <span class="reviews__count">40+ Reviewer</span>
                    </div>

                    <div class="details__prices">
                        <span class="details__price">$14.99</span>
                        <span class="details__discount">$29.99</span>
                        <span class="discount__percentage">50% OFF</span>
                    </div>

                    <div class="detail__description">
                        <div class="description__title">Product Details</div>
                        <div class="description__details">
                            <p>Light Gray solid top, has a boat neck, 3/4 sleeves.</p>
                        </div>
                    </div>

                    <div class="cart__amount">
                        <div class="cart__amount-content">
                            <span class="cart__amount-box">
                                <i class='bx bx-minus' ></i>
                            </span>
                            <span class="cart__amount-number">1</span>
                            <span class="cart__amount-box">
                                <i class='bx bx-plus' ></i>
                            </span>
                            <i class='bx bx-heart cart__amount-heart'></i>
                        </div>
                    </div>

                    <a href="" class="button">Add To Cart</a>

                </div>
            </div>
        </section>

        <!--=============== RELATED PRODUCTS ===============-->
        <section class="related__products section">
            <h2 class="section__title">Related Products</h2>
            <div class="new__container container">
                <div class="swiper new-swiper">
                    <div class="swiper-wrapper">
                        <div class="new__content swiper-slide">
                            <div class="new__tag">New</div>
                            <img src="assets/img/new-1.png" alt="" class="new__img">
                            <h3 class="new__title">Windbreaker Jacket</h3>
                            <span class="new__subtitle">Accessory</span>
                            <div class="new__prices">
                                <span class="new__price">$14.99</span>
                                <span class="new__discount">$29.99</span>
                            </div>

                            <a href="details.html" class="button new__button">
                                <i class="bx bx-cart-alt new__icon"></i>
                            </a>
                        </div>
                        <div class="new__content swiper-slide">
                            <div class="new__tag">New</div>
                            <img src="assets/img/new-2.png" alt="" class="new__img">
                            <h3 class="new__title">Air Jordan Zipper</h3>
                            <span class="new__subtitle">Accessory</span>
                            <div class="new__prices">
                                <span class="new__price">$14.99</span>
                                <span class="new__discount">$29.99</span>
                            </div>

                            <a href="details.html" class="button new__button">
                                <i class="bx bx-cart-alt new__icon"></i>
                            </a>
                        </div>
                        <div class="new__content swiper-slide">
                            <div class="new__tag">New</div>
                            <img src="assets/img/new-3.png" alt="" class="new__img">
                            <h3 class="new__title">Fur Jacket</h3>
                            <span class="new__subtitle">Accessory</span>
                            <div class="new__prices">
                                <span class="new__price">$14.99</span>
                                <span class="new__discount">$29.99</span>
                            </div>

                            <a href="details.html" class="button new__button">
                                <i class="bx bx-cart-alt new__icon"></i>
                            </a>
                        </div>
                        <div class="new__content swiper-slide">
                            <div class="new__tag">New</div>
                            <img src="assets/img/new-4.png" alt="" class="new__img">
                            <h3 class="new__title">Fleece Jacket</h3>
                            <span class="new__subtitle">Accessory</span>
                            <div class="new__prices">
                                <span class="new__price">$24.99</span>
                                <span class="new__discount">$49.99</span>
                            </div>

                            <a href="details.html" class="button new__button">
                                <i class="bx bx-cart-alt new__icon"></i>
                            </a>
                        </div>
                        <div class="new__content swiper-slide">
                            <div class="new__tag">New</div>
                            <img src="assets/img/new-5.png" alt="" class="new__img">
                            <h3 class="new__title">Nike Hoodie</h3>
                            <span class="new__subtitle">Accessory</span>
                            <div class="new__prices">
                                <span class="new__price">$34.99</span>
                                <span class="new__discount">$59.99</span>
                            </div>

                            <a href="details.html" class="button new__button">
                                <i class="bx bx-cart-alt new__icon"></i>
                            </a>
                        </div>
                        <div class="new__content swiper-slide">
                            <div class="new__tag">New</div>
                            <img src="assets/img/new-6.png" alt="" class="new__img">
                            <h3 class="new__title">Fleece Jacket</h3>
                            <span class="new__subtitle">Accessory</span>
                            <div class="new__prices">
                                <span class="new__price">$5.99</span>
                                <span class="new__discount">$12.99</span>
                            </div>

                            <a href="details.html" class="button new__button">
                                <i class="bx bx-cart-alt new__icon"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!--=============== FOOTER ===============-->
    <footer class="footer section">
        
    </footer>

    <!--=============== LIGHTBOX ===============-->
    <div class="lightbox">
        <div class="lightbox__content">
            <div class="lightbox__close">&times;</div>
            <img src="assets/img/product-2.png" alt="" class="lightbox__img">
            <div class="lightbox__caption">
                <div class="caption__text">e-shopper</div>
                <div class="caption__counter">1 of 4</div>
            </div>
        </div>
        <div class="lightbox__controls">
            <div class="prev__item" onclick="prevItem()"><i class='bx bx-chevron-left'></i></div>
            <div class="next__item" onclick="nextItem()"><i class='bx bx-chevron-right'></i></div>
        </div>
    </div>

    <script>
        const productItems = document.querySelectorAll('.product__img');
        const totalProductsItem = productItems.length;
        const lightbox = document.querySelector('.lightbox');
        const lightboxImg = lightbox.querySelector('.lightbox__img');
        const lightboxClose = lightbox.querySelector('.lightbox__close');
        const lightboxCounter = lightbox.querySelector('.caption__counter');

        console.log(lightboxImg, lightboxCounter, lightboxClose);

        let itemIndex = 0;
        for(let i=0; i<totalProductsItem; i++) {
            productItems[i].addEventListener('click', () => {
                itemIndex = i;
                changeItem();
                toggleLightbox();
            })
        }

        const toggleLightbox = () => {
            lightbox.classList.toggle('open');
        }
        const changeItem = () => {
            imgSrc = productItems[itemIndex].querySelector('.product__img img').getAttribute('src');
            lightboxImg.src = imgSrc;
            lightboxCounter.innerHTML = (itemIndex +1)+ ' of '+ totalProductsItem;
            console.log(itemIndex)
        }

        const nextItem= () => {
            if (itemIndex == totalProductsItem - 1) {
                itemIndex = 0
            }
            else {
                itemIndex++;
            }
            changeItem();
        }

        const prevItem = () => {
            if (itemIndex == 0) {
                itemIndex = totalProductsItem-1
            }
            else {
                itemIndex--;
            }
            changeItem();
        }

        lightbox.addEventListener('click', () => {
            if (event.target === lightboxClose || event.target === lightbox) {
                toggleLightbox();
            }
        })
    </script>
    <!--=============== SCROLL UP ===============-->

    <!--=============== STYLE SWITCHER ===============-->
    
    <!--=============== SWIPER JS ===============-->
    <script src="assets/js/swiper-bundle.min.js"></script>

    <!--=============== JS ===============-->
    <script src="assets/js/main.js"></script>
</body>
</html>